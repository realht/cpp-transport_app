# Транспортный каталог
## Описание проекта
Проект под C++17, собирается через CMAKE. Представляет из себя консольную версию транспортного каталога, которая на вход принимает описание маршрута и запросы на его обработку в формате JSON. В ответ выводится все нужная информация так же в JSON.
## Структура запросов и ответов
### Запрос
- блок routing_settings - общие настройки автобуса
  - bus_wait_time - время остановки в минутах
  - bus_velocity - скорость движения автобуса
- render_settings - общие настройки отрисовки карты
  - цвета задаются в формате rgb, rgba или название цвета
- base_requests - общие параметры маршрута
  - type - тип объекта
    - Bus - автобус
    - Stop - остановка
  - name - имя
  - Для автобусов доп поля:
    - stops - перечисление остановок в маршруте
    - is_roundtrip - булиевое значение, указывающее кольцевой маршрут или двунаправленный
  - Для остановок доп поля 
    - latitude - координаты широты остановки
    - longitude - координаты долготы остановки
    - road_distances - перечисление соседних остановок и расстояние до них
- stat_requests - блок запросов к каталогу
  - id - номер запроса
  - type - типа запроса, он бывает 4 видов:
    - Bus - запрос об автобусном маршруте, для этого запроса используется доп поле **name** с именем автобусного маршрута
    - Stop - запрос об остановке, для этого запроса используется доп поле **name** с именем остановки
    - Route - запрос об маршруте между двумя остановками, для этого запроса используется доп поля **from** и **to** с именем автобусного маршрута
    - Map - запрос на отрисовку маршрута в формате svg, с заранее заданными параметрами отрисовки
### Ответ
- Ответ на запрос **Bus**
  - request_id - номер запроса
  - curvature - кривизна маршрута
  - route_length - длинна маршрута
  - stop_count - количество остановок
  - unique_stop_count - количество уникальных остановок
- Ответ на запрос **Stop**
  - request_id - номер запроса
  - buses - перечень автобусов проходящих через данную остановку
- Ответ на запрос **Route**
  - request_id - номер запроса
  - items - перечисление точек маршрута для перемещение с заданной остановки до требуемой. Маршрут всегда начинается на остановке в ожидании автобуса. Точки маршрута бывают двух типов:
    - Остановки, которые описываются как **type**: **Wait** и имеют доп поля **stop_name** - имя остановки и **time** - врея ожидания
    - Автобусы, **type**: **Bus** и имеют доп поля **bus** - имя автобусного маршрута, **span_count** - количество остановок, которые нужно проехать и **time** - время которые нужно потратить на данный переезд
  - total_time - количество времени необходимое что бы преодолеть указанный маршрут
- Ответ на запрос **Map**
  - request_id - номер запроса
  - map - текстовое представление SVG формата
### Пример запроса и ответа
В каталоге рядом с проектом лежат 2 файла с примерами запроса к каталогу и ответа к нему:
- transport_request_1.json - запрос к каталогу
- transport_answer_1.json - ответ на запрос к каталогу
  
